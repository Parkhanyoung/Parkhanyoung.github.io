---
title: Docker Basic Concept
date: 2021-12-08 00:00:00 +0800
categories: [Docker]
tags: [Docker, container, tool]
---
# Docker 기본 개념

### Docker를 왜 쓰는 걸까?
본격적으로 프로그래밍을 하기 이전에 환경 세팅을 하는 것이 여간 까다로운 게 아니다.   
운영체제마다 적합한 소프트웨어(웹서버, 데이터베이스)의 종류 및 버전이 제각기 다르기 떄문이다.   
이런 것에 얽매이지 않기 위해 운영체제를 추가로 설치하는 것은 리소스 낭비가 지나치다.   
그리하여 운영체제를 별도로 설치하지 않고 가볍게 독립적인 환경을 마련해주기 위해 컨테이너 개념이 등장했다.     
필요한 라이브러리와 실행 파일만 설치하여 소프트웨어를 (프로세스 별로) 다양한 환경에서 똑같이 사용할 수 있게 해주는 것이 컨테이너이다.   
그리고 리눅스 컨테이너 서비스 중 가장 널리 알려진 것이 Docker이다!     
Docker가 '리눅스' 컨테이너 서비스이긴 하지만 다른 운영체제를 사용해도 문제가 없다.   
다른 운영체제에서는 Docker가 알아서 가상머신을 만들고 그 위에 리눅스를 설치해주기 때문이다(Hypervisor 활성화).   
하지만 이 때문에 다른 운영체제 환경에서는 리눅스 환경에서 Docker를 사용할 때에 비해 성능이 다소 저하된다.    
     
*Docker의 원래 뜻은 부두에서 컨테이너를 다루는 부두 노동자를 가리키는 단어이다.     
*Hypervisor: 가상 머신(VM)을 생성하고 구동하는 소프트웨어   
*컨테이너는 쉽게 말해 격리된 환경에서 실행되는 프로세스이다.   
    
### VM 가상화 vs Docker 컨테이너
![VMvsDocker](/assets/img/post-img/VmvsDocker.png)
VM 가상화 플랫폼의 경우에는 Host OS 위에 가상화를 위한 엔진 + Guest OS를 올려야 한다.    
그렇기에 Guest OS와 Host OS가 완벽히 분리되는 장점이 있지만,    
OS 위에 또 다른 OS를 올리기 떄문에 무겁고 느리게 동작한다.     
이에 반해 컨테이너 기반 가상화는 Host의 커널을 공유하는 형태로,    
docker 엔진 위에 필요한 바이너리만 올려서 어플리케이션을 동작시킨다.     
가상머신과 컨테이너 가상화는 호스트의 환경과 다른 환경을 제공해준다는 점에서는 비슷해 보이지만,    
가상머신은 os 단위이고, 컨테이너는 프로세스 단위이다.    
가상머신은 하드웨어를 통째로 소프트웨어로 재구현한다. 그에 반해 컨테이너는 하나의 프로세스에 불과하다.    
컨테이너는 호스트의 실행 환경과 독립적인 환경에서 돌아가는 프로세스이다.        
컨테이너 기반 가상화가 OS 가상화보다 무조건적으로 좋은 것은 아니다.     
OS 가상화는 컨테이너 기반 가상화보다 더 높은 격리 레벨을 지원하고, 그만큼 보안적인 면에서 유리하다.     
또한 커널을 공유하지 않아 멀티 OS가 가능하다는 장점이 있다.     
그럼에도 Docker가 가장 인기 있는 이유는 성능 향상, 뛰어난 **이식성, Scale Out을 쉽게 할 수 있는 유연성**에 있다.    
     
### 왜 굳이 리눅스에서 돌려야 할까?
Docker의 컨테이너는 리눅스 커널이 제공하는 몇 가지 기능들에 의존하고 있다.     
chroot(독립 공간 형성), namespace(isolate 기능), cgroup(필요한 만큼 하드웨어 지원),    
이 세 가지 기능이 있어야 Docker를 사용할 수 있기 때문에 리눅스에서만 돌릴 수 있는 것이다.    
Docker 엔진은 리눅스 커널에서 제공하는 이 세 가지 기능을 Docker 플랫폼에서도 사용할 수 있게 해주는 역할을 수행한다.     
     
### Docker 컨테이너의 개략적 구조   
![docker구조](/assets/img/post-img/docker_structure.png)
host는 Docker를 돌리는 사용자의 실제 컴퓨터 환경이고, container는 docker로 생성한 가상의 환경이다.

---
__공부 자료__
[생활코딩]생활코딩 Docker 입문수업: https://www.youtube.com/watch?v=Ps8HDIAyPD0     
[44bits.io]Docker(Docker) 입문편: https://www.44bits.io/ko/post/easy-deploy-with-docker